webpackJsonp([9],{"./app/components/Common/Checkbox/index.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var o=n("../node_modules/react/index.js"),r=(n.n(o),n("./app/components/style/index.tsx")),i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onChange=function(e){t.props.onClicked()},t}return i(t,e),t.prototype.render=function(){return o.createElement("input",{className:Object(r.a)("w3-check"),type:"checkbox",checked:this.props.checked,onChange:this.onChange})},t}(o.Component)},"./app/components/Common/Locale/Localize.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return l});var o=n("../node_modules/react/index.js"),r=(n.n(o),n("../node_modules/mobx-react/index.module.js")),i=n("./app/constants/stores.ts"),a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),s=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},c=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){var e=this,t=this.props[i.c];return(0,this.props.children)(Object.keys(this.props).filter(function(e){return e!==i.c&&"children"!==e}).reduce(function(n,o){return s({},n,(r={},r[o]=t.get(e.props[o]),r));var r},{}))},t=c([Object(r.inject)(i.c),r.observer],t)}(o.Component)},"./app/components/Modals/AlertPanel.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var o=n("./app/components/style/index.tsx"),r=n("../node_modules/react/index.js"),i=(n.n(r),this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){return r.createElement("div",{className:Object(o.a)("w3-container")},r.createElement("div",{className:Object(o.a)("w3-panel","w3-red","w3-display-container")},r.createElement("span",{onClick:this.props.clearError,className:Object(o.a)("w3-button","w3-red","w3-large","w3-display-topright")},"×"),this.props.children))},t}(r.Component)},"./app/components/Modals/FormInput.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return u});var o=n("../node_modules/react/index.js"),r=(n.n(o),n("./app/constants/stores.ts"),n("../node_modules/mobx/lib/mobx.module.js")),i=n("./app/components/Common/Locale/index.tsx"),a=n("./app/components/Common/Locale/Localize.tsx"),s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),c=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},l=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleChange=function(e){t.props.onChange&&t.props.onChange(e)},t}return s(t,e),t.prototype.render=function(){var e=this;return o.createElement("div",null,o.createElement("label",null,o.createElement("b",null,o.createElement(i.b,{id:this.props.labelTextId})," ",this.props.invalid?o.createElement(i.b,{id:this.props.invalidPromptId}):null)),o.createElement(a.a,{placeholder:this.props.placeholderTextId},function(t){return o.createElement("input",c({className:e.props.className,type:e.props.type,value:e.props.value,onChange:e.handleChange},t))}))},l([r.action,p("design:type",Object)],t.prototype,"handleChange",void 0),t}(o.Component)},"./app/components/Modals/LoginModal/index.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n("./app/components/Modals/AlertPanel.tsx"),i=n("../node_modules/react/index.js"),a=n("./app/components/style/index.tsx"),s=n("./app/constants/stores.ts"),c=n("../node_modules/mobx-react/index.module.js"),l=n("../node_modules/mobx/lib/mobx.module.js"),p=n("./app/components/Modals/FormInput.tsx"),u=n("./app/components/Modals/Modal.tsx"),d=n("./app/api/ApiDefinition.ts"),f=n("./app/stores/UserStore.ts"),h=n("./app/stores/NetworkStore.ts"),g=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},m=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},b=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function a(e){try{c(o.next(e))}catch(e){i(e)}}function s(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,s)}c((o=o.apply(e,t||[])).next())})},y=this&&this.__generator||function(e,t){function n(e){return function(t){return o([e,t])}}function o(n){if(r)throw new TypeError("Generator is already executing.");for(;c;)try{if(r=1,i&&(a=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,i=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(a=c.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){c.label=n[1];break}if(6===n[0]&&c.label<a[1]){c.label=a[1],a=n;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(n);break}a[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(e){n=[6,e],i=0}finally{r=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var r,i,a,s,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};!function(e){e[e.NotLoggedIn=0]="NotLoggedIn",e[e.LoggingIn=1]="LoggingIn",e[e.LoggedIn=2]="LoggedIn"}(o||(o={}));var v;!function(e){e[e.WrongCredential=0]="WrongCredential",e[e.ServerError=1]="ServerError",e[e.NetworkError=2]="NetworkError"}(v||(v={}));var w=function(){function e(){var e=this;this.logout=function(){e.state=o.NotLoggedIn},this.requestLogin=function(t,n){return b(e,void 0,void 0,function(){var e,r,i,a,s,c,p,u=this;return y(this,function(g){switch(g.label){case 0:return this.state=o.LoggingIn,n=Object(f.b)(n),e=h.b.appendQueryString(d.a.login,{username:t,password:n}),[4,h.b.fetch(e)];case 1:if(r=g.sent(),i=r.statusCode,a=r.response,s=r.error,c=r.ok,p=r.isNetworkError,c)return[2,Object(l.runInAction)("requestLogin success",function(){return u.state=o.LoggedIn,a})];throw Object(l.runInAction)("requestLogin failed",function(){return b(u,void 0,void 0,function(){return y(this,function(e){return this.state=o.NotLoggedIn,[2]})})}),401===i?{type:v.WrongCredential}:p?{type:v.NetworkError,error:s}:{type:v.ServerError,messages:a.errorDescriptions}}})})},this.state=o.NotLoggedIn}return g([l.observable,m("design:type",Number)],e.prototype,"state",void 0),g([l.action,m("design:type",Object)],e.prototype,"logout",void 0),g([l.action,m("design:type",Object)],e.prototype,"requestLogin",void 0),e}(),_=n("./app/components/Common/Locale/index.tsx"),j=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),O=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return j(t,e),t.prototype.render=function(){var e=this.props.error;if(!e)return null;var t=[];switch(e.type){case v.WrongCredential:t.push(i.createElement(_.b,{key:"wrongCredential",id:"loginModal.wrongCredential"}));break;case v.NetworkError:var n=e;console.log(n),t.push(i.createElement(_.b,{key:"networkError",id:"loginModal.networkError"}));break;case v.ServerError:var n=e;t.push(i.createElement(_.b,{key:"serverError",id:"loginModal.serverError"})),t.push(i.createElement("br",{key:0}));for(var o=0,a=n.messages;o<a.length;o++){var s=a[o];t.push(i.createElement("br",{key:s})),t.push(s)}}return i.createElement(r.a,{clearError:this.props.clearError},i.createElement("h3",null,i.createElement(_.b,{id:"loginModal.loginFailed"})),i.createElement("p",null,t))},t}(i.Component),E=n("./app/components/Common/Checkbox/index.tsx"),x=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),C=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},M=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},k=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function a(e){try{c(o.next(e))}catch(e){i(e)}}function s(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,s)}c((o=o.apply(e,t||[])).next())})},P=this&&this.__generator||function(e,t){function n(e){return function(t){return o([e,t])}}function o(n){if(r)throw new TypeError("Generator is already executing.");for(;c;)try{if(r=1,i&&(a=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,i=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(a=c.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){c.label=n[1];break}if(6===n[0]&&c.label<a[1]){c.label=a[1],a=n;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(n);break}a[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(e){n=[6,e],i=0}finally{r=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var r,i,a,s,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.username="",t.password="",t.loginAttempted=!1,t.rememberMe=!1,t.loggedIn=!1,t.lastError=null,t.loginStore=new w,t.rememberMeClicked=function(){t.rememberMe=!t.rememberMe},t.handleUsernameChange=function(e){t.username=e.target.value},t.handlePasswordChange=function(e){t.password=e.target.value},t.validate=function(){return t.usernameValid&&t.passwordValid},t.clearError=function(){t.lastError=null},t.login=function(){return k(t,void 0,void 0,function(){var e,t,n,o=this;return P(this,function(r){switch(r.label){case 0:if(this.loginAttempted=!0,!this.validate())return[2];e=this.props[s.f],this.clearError(),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.loginStore.requestLogin(this.username,this.password)];case 2:return t=r.sent(),Object(l.runInAction)("Login successful",function(){o.loggedIn=!0,e.login(t),o.rememberMe&&e.remember(),o.props[s.e].toggleLoginModalShown()}),[3,4];case 3:return n=r.sent(),console.log(n),Object(l.runInAction)("Login failed",function(){o.lastError=n}),[3,4];case 4:return[2]}})})},t.openRegisterModal=function(){var e=t.props[s.e];e.toggleLoginModalShown(),e.toggleRegisterModalShown()},t}return x(t,e),Object.defineProperty(t.prototype,"usernameValid",{get:function(){return!this.loginAttempted||""!==this.username},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"passwordValid",{get:function(){return!this.loginAttempted||""!==this.password},enumerable:!0,configurable:!0}),t.prototype.componentWillUnmount=function(){var e=this.props[s.e];this.loggedIn?e.clearLoginPanelFields():e.saveLoginPanelFields({username:this.username,password:this.password,remember:this.rememberMe})},t.prototype.componentDidMount=function(){var e=this,t=this.props[s.e],n=t.temporaryLoginPanelFields;n&&Object(l.runInAction)("Initialize fields",function(){e.username=n.username,e.password=n.password,e.rememberMe=n.remember})},t.prototype.render=function(){var e=(this.props[s.f],this.props[s.e]),t=this.loginStore.state===o.LoggingIn;return i.createElement(u.a,{titleId:"loginModal.title",toggleShown:e.toggleLoginModalShown},i.createElement(O,{error:this.lastError,clearError:this.clearError}),i.createElement("form",{className:Object(a.a)("w3-container")},i.createElement("div",{className:Object(a.a)("w3-section")},i.createElement(p.a,{className:Object(a.a)("w3-input","w3-border","w3-margin-bottom"),type:"text",placeholderTextId:"loginModal.pleaseInputUsername",labelTextId:"loginModal.username",invalid:!this.usernameValid,invalidPromptId:"loginModal.pleaseInputUsername",onChange:this.handleUsernameChange,value:this.username}),i.createElement(p.a,{className:Object(a.a)("w3-input","w3-border"),type:"password",placeholderTextId:"loginModal.pleaseInputPassword",labelTextId:"loginModal.password",invalid:!this.passwordValid,invalidPromptId:"loginModal.pleaseInputPassword",onChange:this.handlePasswordChange,value:this.password}),i.createElement("p",null,i.createElement(E.a,{checked:this.rememberMe,onClicked:this.rememberMeClicked}),i.createElement("span",null,i.createElement(_.b,{id:"loginModal.rememberMe"}))))),i.createElement(u.b,null,i.createElement("button",{onClick:this.openRegisterModal,type:"button",className:Object(a.a)("w3-button","w3-blue","w3-padding")},i.createElement(_.b,{id:"loginModal.register"})),i.createElement("button",{onClick:e.toggleLoginModalShown,type:"button",className:Object(a.a)("w3-button","w3-red","w3-right","w3-padding")},i.createElement(_.b,{id:"loginModal.close"})),i.createElement("button",{onClick:this.login,type:"button",disabled:t,className:Object(a.a)("w3-button","w3-blue","w3-right","w3-padding")},t?i.createElement(_.b,{id:"loginModal.loggingIn"}):i.createElement(_.b,{id:"loginModal.login"}))))},C([l.observable,M("design:type",String)],t.prototype,"username",void 0),C([l.observable,M("design:type",String)],t.prototype,"password",void 0),C([l.observable,M("design:type",Boolean)],t.prototype,"loginAttempted",void 0),C([l.observable,M("design:type",Boolean)],t.prototype,"rememberMe",void 0),C([l.observable,M("design:type",Object)],t.prototype,"lastError",void 0),C([l.observable,M("design:type",w)],t.prototype,"loginStore",void 0),C([l.action,M("design:type",Object)],t.prototype,"rememberMeClicked",void 0),C([l.computed,M("design:type",Object),M("design:paramtypes",[])],t.prototype,"usernameValid",null),C([l.computed,M("design:type",Object),M("design:paramtypes",[])],t.prototype,"passwordValid",null),C([l.action,M("design:type",Object)],t.prototype,"handleUsernameChange",void 0),C([l.action,M("design:type",Object)],t.prototype,"handlePasswordChange",void 0),C([l.action,M("design:type",Object)],t.prototype,"validate",void 0),C([l.action,M("design:type",Object)],t.prototype,"clearError",void 0),C([l.action,M("design:type",Object)],t.prototype,"login",void 0),C([l.action,M("design:type",Object)],t.prototype,"openRegisterModal",void 0),t=C([Object(c.inject)(s.f,s.e),c.observer],t)}(i.Component);n.d(t,"AlertPanel",function(){return r.a}),n.d(t,"LoginModal",function(){return I})}});