(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{1499:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r,o=n(1),i=n.n(o),a=n(663),c=n(671),u=n(1498),l=n(88),f=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(e){if(t.props.onClick){var n=e.data._origin.item;t.props.onClick(t.props.items.find(function(e){return e.name===n}))}},t}return f(t,e),t.prototype.render=function(){var e=Object(l.b)(this.props.items,function(e){return e.items.length}),t=this.props.items.map(function(t){return{item:t.name,count:t.items.length/e}}),n=new c.DataView;n.source(t).transform({type:"percent",field:"count",dimension:"item",as:"percent"});var r={percent:{formatter:function(t){return t*e}}},o=a.Chart,f=u.Axis;return i.a.createElement("div",null,i.a.createElement(o,{height:600,data:n,scale:r,forceFit:!0,onIntervalClick:this.onClick},i.a.createElement(a.Coord,{type:"theta",radius:.75,innerRadius:.6}),i.a.createElement(f,{name:"percent"}),i.a.createElement(a.Legend,{position:"right",offsetY:-window.innerHeight/2+120,offsetX:-100}),i.a.createElement(a.Tooltip,{showTitle:!1,itemTpl:'<li><span style="background-color:{color};" class="g2-tooltip-marker"></span>{name}: {value}</li>'}),i.a.createElement(a.Guide,null,i.a.createElement(a.Guide.Html,{position:["50%","50%"],html:'<div style="color:#8c8c8c;font-size:1.16em;text-align: center;width: 10em;"> '+this.props.title+' <br> <span style="color:#262626;font-size:2.0em"> '+e+" </span> </div>",alignX:"middle",alignY:"middle"})),i.a.createElement(a.Geom,{type:"intervalStack",position:"percent",color:"item",tooltip:["item*percent",function(e,t){return{name:e,value:t=100*t+"%"}}],style:{lineWidth:1,stroke:"#fff"}},i.a.createElement(a.Label,{content:"percent",formatter:function(e,t){return t.point.item+": "+e}}))))},t}(i.a.Component)},1667:function(e,t,n){"use strict";n.r(t);var r,o=n(1),i=n.n(o),a=n(3),c=n(78),u=n(21),l=n(819),f=n(20),p=n(87),s=n(663),d=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.render=function(){return i.a.createElement(s.Chart,{height:400,data:this.props.data,scale:{count:{min:0},date:{range:[0,1]}},forceFit:!0},i.a.createElement(s.Axis,{name:"date"}),i.a.createElement(s.Axis,{name:"count"}),i.a.createElement(s.Tooltip,{crosshairs:{type:"y"}}),i.a.createElement(s.Geom,{type:"line",position:"date*count",size:2}),i.a.createElement(s.Geom,{type:"point",position:"date*count",size:4,shape:"circle",style:{stroke:"#fff",lineWidth:1}}))},t}(i.a.Component),m=(n(596),n(801),n(1499)),h=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),b=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},v=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},g="admin.userChart.",w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.get=function(e){return t.localeStore.get(g+e)},t.onCancel=function(){t.setState({modalShown:!1})},t.chartData=[{name:t.get("requester"),items:t.props.requesters},{name:t.get("worker"),items:t.props.workers}],t}var n;return h(t,e),t.prototype.render=function(){return console.log(this.props),i.a.createElement("div",null,i.a.createElement(m.a,{title:this.get("total"),items:this.chartData}))},b([a.Inject,v("design:type","function"==typeof(n=void 0!==u.a&&u.a)&&n||Object)],t.prototype,"localeStore",void 0),t}(i.a.Component),E=n(815),O=n.n(E),_=n(23),j=n(44),k=n(26),C=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),R=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},x=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},P=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,c)}u((r=r.apply(e,t||[])).next())})},S=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},D="admin.userChart.table.",I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderTable=function(){return P(t,void 0,void 0,function(){var e,t,n,r,o=this;return S(this,function(a){switch(a.label){case 0:return[4,this.adminService.getUsers()];case 1:return e=a.sent(),t=[{title:this.get("username"),dataIndex:"username",key:"id",sorter:!0,render:function(e,t){return i.a.createElement("a",{onClick:function(){return o.toProfile(e,t.role)}},e)}},{title:this.get("email"),dataIndex:"email",key:"email",sorter:!0},{title:this.get("registerDate"),dataIndex:"registerDate",key:"registerDate",sorter:!0}],n=t.concat(["submittedMissionCount","instanceCount"].map(function(e){return{title:o.get("requester."+e),dataIndex:e,key:e,sorter:!0}})),r=t.concat(["credits","exp","level"].map(function(e){return{title:o.get("worker."+e),dataIndex:e,key:e,sorter:!0}})),[2,i.a.createElement("div",null,i.a.createElement("h2",null,i.a.createElement(f.b,{id:D+"requester.title"})),i.a.createElement(O.a,{columns:n,dataSource:e.filter(function(e){return e.role===_.b.ROLE_REQUESTER})}),i.a.createElement("h2",null,i.a.createElement(f.b,{id:D+"worker.title"})),i.a.createElement(O.a,{columns:r,dataSource:e.filter(function(e){return e.role===_.b.ROLE_WORKER})}))]}})})},t}var n,r,o,l;return C(t,e),t.prototype.toProfile=function(e,t){this.userStore.jumpToProfile(e,t)},t.prototype.get=function(e){return this.localeStore.get(D+e)},t.prototype.render=function(){return i.a.createElement(p.a,{render:this.renderTable})},R([a.Inject,x("design:type","function"==typeof(n=void 0!==c.a&&c.a)&&n||Object)],t.prototype,"adminService",void 0),R([a.Inject,x("design:type","function"==typeof(r=void 0!==u.a&&u.a)&&r||Object)],t.prototype,"localeStore",void 0),R([a.Inject,x("design:type","function"==typeof(o=void 0!==j.a&&j.a)&&o||Object)],t.prototype,"routerStore",void 0),R([a.Inject,x("design:type","function"==typeof(l=void 0!==k.a&&k.a)&&l||Object)],t.prototype,"userStore",void 0),t}(i.a.Component),T=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),A=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},G=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},q=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,c)}u((r=r.apply(e,t||[])).next())})},z=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},L="admin.userChart.",M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderContent=function(){return q(t,void 0,void 0,function(){var e;return z(this,function(t){switch(t.label){case 0:return[4,this.adminService.getAdminInfo()];case 1:return e=t.sent().user,[2,i.a.createElement("div",null,i.a.createElement(l.c,null,i.a.createElement(f.b,{id:L+"name"})),i.a.createElement(I,null),i.a.createElement(w,{requesters:e.requesters,workers:e.workers}),i.a.createElement(l.c,null,i.a.createElement(f.b,{id:L+"registerDateCountChart"})),i.a.createElement(y,{data:Object.keys(e.registerDateDistribution).map(function(t){return{date:t,count:e.registerDateDistribution[t].length}})}))]}})})},t}var n,r;return T(t,e),t.prototype.render=function(){return i.a.createElement(p.a,{render:this.renderContent})},A([a.Inject,G("design:type","function"==typeof(n=void 0!==c.a&&c.a)&&n||Object)],t.prototype,"adminService",void 0),A([a.Inject,G("design:type","function"==typeof(r=void 0!==u.a&&u.a)&&r||Object)],t.prototype,"localeStore",void 0),t}(i.a.Component);t.default=M},819:function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"c",function(){return u}),n.d(t,"a",function(){return l});var r,o,i=n(17),a=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},c=i.a.h1.withConfig({displayName:"MajorTitle"})(r||(r=a(["\n  margin-bottom: 16px;\n"],["\n  margin-bottom: 16px;\n"]))),u=i.a.h2.withConfig({displayName:"MinorTitle"})(o||(o=a(["\n  margin-bottom: 16px;\n"],["\n  margin-bottom: 16px;\n"]))),l=5}}]);